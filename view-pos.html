function renderPOs(pos) {
  const container = document.getElementById('poContainer');
  container.innerHTML = '';

  if (!pos.length) {
    container.textContent = 'No Purchase Orders found.';
    return;
  }

  // Group by week
  const grouped = {};
  pos.forEach(p => {
    const weekStart = getWeekStart(p.date);
    if (!grouped[weekStart]) grouped[weekStart] = [];
    grouped[weekStart].push(p);
  });

  const sortedWeeks = Object.keys(grouped).sort((a,b)=>new Date(b)-new Date(a));

  sortedWeeks.forEach(weekStart => {
    const weekEnd = new Date(weekStart);
    weekEnd.setDate(weekEnd.getDate() + 6);

    const header = document.createElement('div');
    header.className = 'week-header';
    const weekText = weekStart === 'Unknown'
      ? 'Unknown Date'
      : `Week of ${formatDateDisplay(weekStart)} ‚Üí ${formatDateDisplay(weekEnd.toISOString().split('T')[0])}`;
    header.textContent = weekText;
    container.appendChild(header);

    // ‚úÖ Wrap table in a scrollable div
    const wrapper = document.createElement('div');
    wrapper.className = 'table-wrapper';

    const table = document.createElement('table');
    table.innerHTML = `
      <thead>
        <tr>
          <th>Date</th>
          <th>PO Number</th>
          <th>Supplier</th>
          <th>Description</th>
          <th>Type</th>
          <th>Map</th>
        </tr>
      </thead>
      <tbody>
        ${grouped[weekStart]
          .sort((a,b)=>new Date(b.createdAt)-new Date(a.createdAt))
          .map(po => `
            <tr>
              <td>${formatDateDisplay(po.date)}</td>
              <td>${po.poNumber}</td>
              <td>${po.supplierName}</td>
              <td>${po.description}</td>
              <td>${po.workType}</td>
              <td>${po.latitude && po.longitude ? 
                  `<a class="map-link" href="https://www.google.com/maps?q=${po.latitude},${po.longitude}" target="_blank">üìç</a>` 
                  : ''}</td>
            </tr>
          `).join('')}
      </tbody>`;
    wrapper.appendChild(table);
    container.appendChild(wrapper);
  });
}
